<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh toán</title>
    <link rel="shortcut icon" href="./images//logo-short.PNG" type="image/x-icon">

    <link rel="stylesheet" href="./styles/contact-us.css">
    <link rel="stylesheet" href="./styles/global.css">
    <link rel="stylesheet" href="./styles/header.css">
</head>

<body>
    <div class="main">
        <div class="header-wrapper">
            <header></header>
        </div>
        <div class="container" style="background-color: white;">
            <div class="pay">
                <input type="number" id="amount" min="1" step="0.01" placeholder="Nhập số tiền thanh toán">

                <!-- Đây là nơi PayPal Button sẽ xuất hiện -->
                <div id="paypal-button-container"></div>
            </div>

            <script
                src="https://www.paypal.com/sdk/js?client-id=AWwbqPqQatxUfGN7hZtoO0BzfFJAyGDHvvKTywgKBMkB9eGhNxPJRChZv4YA9jE5jrW3sNTPdd7GUXZU&currency=USD"></script>
            <script>
                paypal.Buttons({
                    createOrder: function (data, actions) {
                        // Lấy giá trị từ ô input số tiền
                        var amount = document.getElementById('amount').value;

                        // Kiểm tra nếu số tiền rỗng hoặc bằng 0 thì thông báo lỗi
                        if (!amount || parseFloat(amount) <= 0) {
                            alert('Vui lòng nhập số tiền hợp lệ.');
                            return;
                        }

                        return actions.order.create({
                            purchase_units: [{
                                amount: {
                                    value: amount // Số tiền người dùng nhập
                                }
                            }]
                        });
                    },
                    onApprove: function (data, actions) {
                        return actions.order.capture().then(function (details) {
                            alert('Thanh toán thành công! ' + details.payer.name.given_name);
                        });
                    },
                    onError: function (err) {
                    }
                }).render('#paypal-button-container'); // Hiển thị nút PayPal
            </script>
        </div>
    </div>
    <script src="./js/render.js"></script>
</body>

</html>
